import axios, { AxiosInstance } from 'axios';
import { getBackendURL } from '../helpers/common';

export const api = (requireAuth: boolean = false): AxiosInstance => {
  // TODO: change temporary token for token selector
  const token =
    // 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJpYXQiOjE2NDc1MjA1Njl9.lAA4ASRy8JglzDix1pFtaEqGztoJmQmumw6mknvrn8xS5cEiQ7fNLiAKqDJ1BMQ_dewhehcW7MSw5C8A9g2xwOrfp7AcXg6Ps0FSsgEamsVgwuBx4emaufL6PI0gp0S6CGH3PIrcaAzVAbKuvSVK8gU0sd5yH45CpQ3NvBA07XXBuIjKgLfCqHXJfKnpSp6u5M9YP2xE66wiY5GZFTXsjinwhhdw6XxSycmhWTqZYaJafaKhxU1YTaj8KpPrkjz5Xi-jRxEvoKvADDaXWlWHRd0fZ6eMnzQ5gDFIXH4Ce7M7_bupLN75xLMoRkkgAfgc9KDtiVhAXnwy2r_g667JKtsxBwGIIk8Yh7ZUC5jTXMg993_O_kMIfGaVpdvMvUDdiuZkZoMWKxF4NDyESVigDxRwXTzaM6lJjy0q2ESZf3r-p_nh87Kf6qiDX4zBpsa1_8U_I-x0sMWyXOCh762TS87dSZyvbNJGEet6cmJu2poAM2JnLJIHkxW-1n5euAqmutjkbXqQMTuwgzIBbCtoj8TCrFcTDH9xVtBAlwqnnoyBNpUgKnrPPzKXPmoVP7AQdp9j4p_B31f-Cgi3AszdP1UGHLoYcK5Thzy6715LBXjcFJR5pIFsni9Ho6ZuV4Qwvv9Od5C0RTfVq5PRvlvhxKWlK2_jsJ6pG5V90iWh_Sw';
    'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjE4MjUiLCJpYXQiOjE2NTExNzc4MjF9.WKb7C9ekHVwKm5eKmmwBhDQ64TunAEFa7qRVvbY2KlAC_QXdYayoB5vxRMRTWHSj2xhG4V40whoxsq6hSFSzJGdP4NUzUoz-vDEl3CYMRznfaYzUjfEsrIqn_4-Hy9Vh25-kp80zQ9vKk8wAAksbsk1K_t4Ee2vh3XgteIbiB973ia6p3OzMkje6RNSjb4NpQ0prh3urSyIwz5ZwJJKCinZkHQ2949QFi_gBP2NqfaXCIzxxI_R4HdKS9Rz6LbOZZgNdPCizYuhsohfX0KrDpJ-cGc8OZcS3y4i8LU8EWYy6pNqkG5aZL7D46fpARe_1I_O8dse-OGEp2Lfm_kOGd0nOwsjdNsUhtpvv3nVqxQezbig3Ify9ykBlt5_PmJ5iP_NHiJAdwMdJLKjFMtQZdwslp3w7Q-s-ElJZ8-9WbhcREQgALv9HR8WDXMbxScLoTR86s3nWtHjh-hNFRvXNHJoXaq352UsgN2fqmtV2WNmMBBqvhV4u967vOcMyfp0QzvcSYqUsOCgg2_AiIgeZnRfBuz1Xv3DsRGT79ujRLqsKKdCiXp_UAZu9hvvRjJNCEfQNFWcdEyCK4MX-3Npv7gkA23cTkJ2lZL5Ey3NrgpcKy7VH4Rnkg739mtNv7Wpd3enMI24Cw3sZfowCpWAlR4kEeunOwTkQcBM-v-dx53U';
  return axios.create({
    baseURL: getBackendURL(requireAuth),
    headers: token ? { Authorization: `Bearer ${token}` } : undefined,
  });
};
