# Сметы - универсальный модуль

## Установка проекта

```bash
git clone
npm i
npm run prepare
```

## Запуск проекта в режиме разработки

```bash
npm run start
```

## Билд проекта в prodiction-режиме

```bash
npm run build
```

После того, как сбилдился проект, необходимо запустить скрипт `env.sh` с аргументом в виде файла с перемененными окружения. Данный скрипт создаст два файла - `smeta-env-config.js` и `integration.js`. Файл `smeta-env-config.js` отвечает за публичные переменные окружения, необходимые фронту в рантайме приложения. Файл `integration.js` содержит скрипт для интеграции данного приложения в сторонние сервисы.
Далее папка билда раздается как обычная статика.

#### Тестирование билда локально для разработчиков:

```bash
// билдим проект
npm run build
// даем баш-скрипту права на запуск
chmod +x ./env.sh
// запускаем баш-скрипт с аргументом в виде файла с переменными окружения
./env.sh ./.env.development
// запускаем локальный сервер, который раздает билд как статику SPA-приложения
npx serve -s ./build
```

## Общая информация

В файле `.env.development` хранятся переменные окружения, необходимые для разработки

| Переменная | Предназначение |
| ------ | ------ |
| REACT_APP_BACKEND_URL | URL бэкенда |
| HOST_URL | URL нашего контура |

## T-flow & code-review

- От ветки `swimlane-...` создаем свою ветку с наименованием `feature/s-...` или `bugfix/s-...`, где ... - номер задачи
- Пишем в ней код, заливаем его в гит по мере необходимости
- По мере реализации задачи - мержим к себе в ветку актуальный `swimlane-...` (находясь в своей ветке с закоммиченными изменениями пишем `git merge origin/swimlane-...`)
- Создаем МР в `swimlane-...`
- Скидываем МР в группу `smeta-front`, с кратким описанием что было сделано в задаче
- Другие разработчики смотрят МР, при необходимости комментируют его предлагая альтернативные решения, если по их мнению код можно реализовать более оптимальным путем. Мнение со стороны - не последняя инстанция, но его нужно обсуждать
- Если у вас нет вопросов по МРу - реакцией на сообщение ставьте :+1: . Если есть какие-то вопросы или предложения - временно можете поставить :question:, чтобы автор увидел вашу реакцию и посмотрел в гитлабе ваш комментарий
- После обсуждения необходимо убрать вопрос и поставить лайк
- МР принимает сам разработчик, но только после того, когда есть минимум 2 лайка, и один из них от [matveevrs]. Просьба быть максимально вовлеченными в кросс-ревью, это поможет вместе поддерживать порядок в коде и перенимать знания друг у друга.

## Необходимые расширения для разработки

- [ESLint]
- [Prettier]
- [EditorConfig]

[matveevrs]: https://laddev.slack.com/team/U018YG99D42
[ESLint]: https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint
[Prettier]: https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode
[EditorConfig]: https://editorconfig.org/
